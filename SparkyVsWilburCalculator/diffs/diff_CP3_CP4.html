<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- This file was created with the aha Ansi HTML Adapter. http://ziz.delphigl.com/tool_aha.php -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="application/xml+xhtml; charset=UTF-8" />
<title>diff_CP3_CP4</title>
</head>
<body>
<pre>
/**                                                                             /**
 * SparkyVsWilbur.js                                                             * SparkyVsWilbur.js
 */                                                                              */
                                                                                 
&quot;use strict&quot;                                                                    &quot;use strict&quot;

var sparkyAnnualSavings         = 0;                                            var sparkyAnnualSavings         = 0;
var sparkyInterestRate          = 0;                                            var sparkyInterestRate          = 0;
var sparkyCompoundingYears      = 0;                                            var sparkyCompoundingYears      = 0;
var sparkyStartYear             = 0;                                            var sparkyStartYear             = 0;
var sparkyStopYear                      = 0;                                    var sparkyStopYear                      = 0;

var wilburAnnualSavings         = 0;                                            var wilburAnnualSavings         = 0;
var wilburInterestRate          = 0;                                            var wilburInterestRate          = 0;
var wilburCompoundingYears      = 0;                                            var wilburCompoundingYears      = 0;
var wilburStartYear             = 0;                                            var wilburStartYear             = 0;
var wilburStopYear                      = 0;                                    var wilburStopYear                      = 0;

var sparkyResultsTable;                                                         var sparkyResultsTable;
var yearResultsTable;                                                           var yearResultsTable;  
var wilburResultsTable;                                                         var wilburResultsTable;

function initialize() {                                                         function initialize() {
        alert(&quot;In initialize(): Web App Loaded!&quot;);                                      alert(&quot;In initialize(): Web App Loaded!&quot;);
        sparkyResultsTable=document.getElementById('sparkyResultsTableId');             sparkyResultsTable=document.getElementById('sparkyResultsTableId');
        yearResultsTable  =document.getElementById('yearResultsTableId');               yearResultsTable  =document.getElementById('yearResultsTableId');
        wilburResultsTable=document.getElementById('wilburResultsTableId');             wilburResultsTable=document.getElementById('wilburResultsTableId');

        console.log(sparkyResultsTable);                                                console.log(sparkyResultsTable);
}                                                                               }

function clearInputs(form) {                                                    function clearInputs(form) {
        var formElements = form.elements;                                               var formElements = form.elements;
        for (var i=0; i&lt; formElements.length; i++)                                      for (var i=0; i&lt; formElements.length; i++)
                formElements[i].value=&quot;&quot;;                                                       formElements[i].value=&quot;&quot;;
}                                                                               }

function loadDefaults(form) {                                                   function loadDefaults(form) {
        form.reset();                                                                   form.reset();
}                                                                               }

function getNumValue(id) {                                                      function getNumValue(id) {
        return Number(document.getElementById(id).value);                               return Number(document.getElementById(id).value);
}                                                                               }

function runComparison(form) {                                                  function runComparison(form) {
        if (!form.checkValidity()) {                                                    if (!form.checkValidity()) {
                alert(&quot;See highlighted input boxes, there are input errors&quot;);                   alert(&quot;See highlighted input boxes, there are input errors&quot;);
        } else {                                                                        } else {
                sparkyAnnualSavings   = getNumValue('sparkyAnnualSavingsId');                   sparkyAnnualSavings   = getNumValue('sparkyAnnualSavingsId');
                sparkyInterestRate        = getNumValue('sparkyInterestRateId                   sparkyInterestRate        = getNumValue('sparkyInterestRateId
                sparkyCompoundingYears= getNumValue('sparkyCompoundingYearsId                   sparkyCompoundingYears= getNumValue('sparkyCompoundingYearsId
                sparkyStartYear           = getNumValue('sparkyStartYearId');                   sparkyStartYear           = getNumValue('sparkyStartYearId');
                sparkyStopYear            = getNumValue('sparkyStopYearId');                    sparkyStopYear            = getNumValue('sparkyStopYearId');

                // fill in Wilbur's values                                                      // fill in Wilbur's values
                                                                                                
                console.log(&quot;*** Sparky's input values ***&quot;)                                    console.log(&quot;*** Sparky's input values ***&quot;)
                console.log(&quot;sparkyAnnualSavings   :&quot;, sparkyAnnualSavings);                    console.log(&quot;sparkyAnnualSavings   :&quot;, sparkyAnnualSavings);
                console.log(&quot;sparkyInterestRate    :&quot;, sparkyInterestRate);                     console.log(&quot;sparkyInterestRate    :&quot;, sparkyInterestRate);
                console.log(&quot;sparkyCompoundingYears:&quot;, sparkyCompoundingYears                   console.log(&quot;sparkyCompoundingYears:&quot;, sparkyCompoundingYears
                console.log(&quot;sparkyStartYear       :&quot;, sparkyStartYear);                        console.log(&quot;sparkyStartYear       :&quot;, sparkyStartYear);
                console.log(&quot;sparkyStopYear        :&quot;, sparkyStopYear);                         console.log(&quot;sparkyStopYear        :&quot;, sparkyStopYear);

                console.log(&quot;&quot;);                                                                console.log(&quot;&quot;);
                                                                                                
                console.log(&quot;*** Wilbur's input values ***&quot;)                                    console.log(&quot;*** Wilbur's input values ***&quot;)
                // fill in Wilbur's console.log()                                               // fill in Wilbur's console.log()

                /* sparky's calculations */                                                     /* sparky's calculations */

                var invest              = 0;                                                    var invest              = 0;
                var balance             = 0;                                                    var balance             = 0;
                var interest            = 0;                                                    var interest            = 0;
<span style="color:green;">                                                                              &gt;                 var tableRowNumber      = 1; // start after the heading, row </span>
<span style="color:green;">                                                                              &gt;</span>
<span style="color:green;">                                                                              &gt;                 clearResultsTable(sparkyResultsTable);</span>

                console.log(&quot;****** Sparky's Strategy ******&quot;)                                  console.log(&quot;****** Sparky's Strategy ******&quot;)
                console.log(&quot;YR  Saving  Interest    Balance&quot;);                                 console.log(&quot;YR  Saving  Interest    Balance&quot;);

                for (var i = 1; i &lt;= sparkyCompoundingYears; i++) {                             for (var i = 1; i &lt;= sparkyCompoundingYears; i++) {
                        if ( i &gt;= sparkyStartYear &amp;&amp; i &lt;= sparkyStopYear ) {                            if ( i &gt;= sparkyStartYear &amp;&amp; i &lt;= sparkyStopYear ) {
                                invest = sparkyAnnualSavings;                                                   invest = sparkyAnnualSavings;
                        }                                                                               }
                        else {                                                                          else {
                                invest = 0;                                                                     invest = 0;
                        }                                                                               }
                        balance += invest;                                                              balance += invest;
                        interest = balance * sparkyInterestRate;                                        interest = balance * sparkyInterestRate;
                        balance += interest;                                                            balance += interest;

                        // write debugging info to the console                                          // write debugging info to the console
                        console.log(                                                                    console.log(
                                leftPadString(i.toString(), ' ', 2)                                             leftPadString(i.toString(), ' ', 2)
                                + leftPadString(formatNumberWithCommas(invest                                   + leftPadString(formatNumberWithCommas(invest
                                + leftPadString(formatNumberWithCommas(intere                                   + leftPadString(formatNumberWithCommas(intere
                                + leftPadString(formatNumberWithCommas(balanc                                   + leftPadString(formatNumberWithCommas(balanc
                        );                                                                              );
<span style="color:green;">                                                                              &gt;</span>
<span style="color:green;">                                                                              &gt;                         // modify the DOM and add rows to Sparky's Results ta</span>
<span style="color:green;">                                                                              &gt;                         var row = sparkyResultsTable.insertRow(tableRowNumber</span>
<span style="color:green;">                                                                              &gt;                         var cell0 = row.insertCell(0);</span>
<span style="color:green;">                                                                              &gt;                         var cell1 = row.insertCell(1);</span>
<span style="color:green;">                                                                              &gt;                         var cell2 = row.insertCell(2);</span>
<span style="color:green;">                                                                              &gt;</span>
<span style="color:green;">                                                                              &gt;                         cell0.innerHTML = formatNumberWithCommas(invest);</span>
<span style="color:green;">                                                                              &gt;                         cell1.innerHTML = formatNumberWithCommas(interest);</span>
<span style="color:green;">                                                                              &gt;                         cell2.innerHTML = formatNumberWithCommas(balance);</span>
<span style="color:green;">                                                                              &gt;</span>
<span style="color:green;">                                                                              &gt;                         tableRowNumber++;</span>
                } // end of for loop                                                            } // end of for loop

<span style="color:green;">                                                                              &gt;                 /* year table calculation */</span>
<span style="color:green;">                                                                              &gt;</span>
<span style="color:green;">                                                                              &gt;                 clearResultsTable(yearResultsTable);</span>
<span style="color:green;">                                                                              &gt;</span>
<span style="color:green;">                                                                              &gt;                 var yearMax = Math.max( sparkyCompoundingYears, </span>
<span style="color:green;">                                                                              &gt;                                         wilburCompoundingYears</span>
<span style="color:green;">                                                                              &gt;</span>
<span style="color:green;">                                                                              &gt;                 for (var i = 1; i &lt;= yearMax; i++) {</span>
<span style="color:green;">                                                                              &gt;                         var row = yearResultsTable.insertRow(i);</span>
<span style="color:green;">                                                                              &gt;                         var cell0 = row.insertCell(0);</span>
<span style="color:green;">                                                                              &gt;                         cell0.innerHTML = i;</span>
<span style="color:green;">                                                                              &gt;                 }</span>
<span style="color:green;">                                                                              &gt;</span>
<span style="color:green;">                                                                              &gt;                 /* Wilburs calculations */</span>
<span style="color:green;">                                                                              &gt;</span>
        } // end of else                                                                } // end of else
} // end of runComparison()                                                     } // end of runComparison()

<span style="color:green;">                                                                              &gt;</span>
<span style="color:green;">                                                                              &gt; /*  function clearResultsTable(table)</span>
<span style="color:green;">                                                                              &gt;  *  given a table, remove all rows except the heading</span>
<span style="color:green;">                                                                              &gt;  *  table.rows returns a list of the rows.</span>
<span style="color:green;">                                                                              &gt;  *  table.rows.length returns the number of rows</span>
<span style="color:green;">                                                                              &gt;  *  If a table has 9 rows, row(0) is the header, row(8) is last</span>
<span style="color:green;">                                                                              &gt;  *  deleteRow(index) from the last to all but the (0)</span>
<span style="color:green;">                                                                              &gt;  */</span>
<span style="color:green;">                                                                              &gt; function clearResultsTable(table) {</span>
<span style="color:green;">                                                                              &gt;</span>
<span style="color:green;">                                                                              &gt;         for (var i = table.rows.length; i &gt; 1; i--) {</span>
<span style="color:green;">                                                                              &gt;                 table.deleteRow(i-1);</span>
<span style="color:green;">                                                                              &gt;         }</span>
<span style="color:green;">                                                                              &gt; }</span></pre>
</body>
</html>
